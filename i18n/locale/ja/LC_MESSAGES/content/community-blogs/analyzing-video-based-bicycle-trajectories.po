#
msgid ""
msgstr ""
"Project-Id-Version: content/community-blogs/analyzing-video-based-"
"bicycle-trajectories.md 1.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2024-08-11 20:46+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language: ja\n"
"Language-Team: ja <>\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.16.0\n"

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md
msgid "blog"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md
msgid "anitagraser.com: Analyzing video-based bicycle trajectories"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md
msgid "analyzing-video-based-bicycle-trajectories."
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md
msgid "2023-05-21"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md
msgid ""
"https://anitagraser.com/2023/05/21/analyzing-video-based-bicycle-"
"trajectories/"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md
msgid "true"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md
msgid "planet"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:11
msgid ""
"<p>Did you know that <a "
"href=\"https://movingpandas.org\">MovingPandas</a> also supports local "
"image coordinates? Indeed, it does.</p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:15
msgid ""
"<p>In today&#8217;s post, we will explore how we can use this feature to "
"analyze bicycle tracks extracted from video footage published by <a "
"href=\"https://fosstodon.org/@mszll@datasci.social\">Michael Szell "
"@mszll</a>: </p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:19
msgid ""
"<ul>\n"
"<li>Dataset: <a href=\"https://zenodo.org/record/7288616\" "
"rel=\"nofollow\">https://zenodo.org/record/7288616</a>  </li>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:24
msgid ""
"<li>Data description: <a href=\"https://arxiv.org/abs/2211.01301\" "
"rel=\"nofollow\">https://arxiv.org/abs/2211.01301</a></li>\n"
"</ul>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:29
msgid ""
"<p>The bicycle trajectory coordinates are stored in two separate lists: "
"xs_640x360 and ys640x360:</p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:33
msgid ""
"<figure class=\"wp-block-image size-large\"><img data-attachment-"
"id=\"8453\" data-permalink=\"https://anitagraser.com/2023/05/21"
"/analyzing-video-based-bicycle-trajectories/image-4-7/\" data-orig-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-4.png\" data-"
"orig-size=\"1043,463\" data-comments-opened=\"1\" data-image-"
"meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\""
" data-image-title=\"image-4\" data-image-description=\"\" data-image-"
"caption=\"\" data-medium-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-4.png?w=300\" "
"data-large-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-4.png?w=545\" "
"src=\"https://underdark.files.wordpress.com/2023/05/image-4.png?w=1024\" "
"alt=\"\" class=\"wp-image-8453\" "
"srcset=\"https://underdark.files.wordpress.com/2023/05/image-4.png?w=1024"
" 1024w, https://underdark.files.wordpress.com/2023/05/image-4.png?w=150 "
"150w, https://underdark.files.wordpress.com/2023/05/image-4.png?w=300 "
"300w, https://underdark.files.wordpress.com/2023/05/image-4.png?w=768 "
"768w, https://underdark.files.wordpress.com/2023/05/image-4.png 1043w\" "
"sizes=\"(max-width: 1024px) 100vw, 1024px\" /></figure>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:37
msgid ""
"<p>This format is kind of similar to the Kaggle Taxi dataset, we worked "
"with in <a href=\"https://anitagraser.com/2023/05/12/how-to-use-kaggles-"
"taxi-trajectory-data-in-movingpandas/\">the previous post</a>. However, "
"to use the solution we implemented there, we need to combine the x and y "
"coordinates into nice (x,y) tuples:</p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:40
msgid ""
"<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: "
"python; title: ; notranslate\">\n"
"df&#91;'coordinates'] = df.apply(\n"
"    lambda row: list(zip(row&#91;'xs_640x360'], row&#91;'ys_640x360'])), "
"axis=1)\n"
"df.drop(columns=&#91;'xs_640x360', 'ys_640x360'], inplace=True)\n"
"</pre></div>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:47
msgid ""
"<p>Afterwards, we can create the points and compute the proper timestamps"
" from the frame numbers:</p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:50
msgid ""
"<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: "
"python; title: ; notranslate\">\n"
"def compute_datetime(row):\n"
"    # some educated guessing going on here: the paper states that the "
"video covers 2021-06-09 07:00-08:00\n"
"    d = datetime(2021,6,9,7,0,0) + (row&#91;'frame_in'] + "
"row&#91;'running_number']) * timedelta(seconds=2)\n"
"    return d\n"
"def create_point(xy):\n"
"    try: \n"
"        return Point(xy)\n"
"    except TypeError:  # when there are nan values in the input data\n"
"        return None\n"
"new_df = df.head().explode('coordinates')\n"
"new_df&#91;'geometry'] = new_df&#91;'coordinates'].apply(create_point)\n"
"new_df&#91;'running_number'] = new_df.groupby('id').cumcount()\n"
"new_df&#91;'datetime'] = new_df.apply(compute_datetime, axis=1)\n"
"new_df.drop(columns=&#91;'coordinates', 'frame_in', 'running_number'], "
"inplace=True)\n"
"new_df\n"
"</pre></div>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:69
msgid ""
"<p>Once the points and timestamps are ready, we can create the "
"MovingPandas TrajectoryCollection. Note how we explicitly state that "
"there is no CRS for this dataset (crs=None):</p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:72
msgid ""
"<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: "
"python; title: ; notranslate\">\n"
"trajs = mpd.TrajectoryCollection(\n"
"    gpd.GeoDataFrame(new_df), \n"
"    traj_id_col='id',  t='datetime', crs=None)\n"
"</pre></div>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:79
msgid ""
"<h2 class=\"wp-block-heading\">Plotting trajectories with image "
"coordinates</h2>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:83
msgid ""
"<p>Similarly, to plot these trajectories, we should tell hvplot that it "
"should not fetch any background map tiles (&#8217;tiles&#8217;:None) and "
"that the coordinates are not geographic (&#8216;geo&#8217;:False):</p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:87
msgid ""
"<figure class=\"wp-block-image size-large\"><img data-attachment-"
"id=\"8467\" data-permalink=\"https://anitagraser.com/2023/05/21"
"/analyzing-video-based-bicycle-trajectories/image-11-4/\" data-orig-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-11.png\" data-"
"orig-size=\"746,550\" data-comments-opened=\"1\" data-image-"
"meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\""
" data-image-title=\"image-11\" data-image-description=\"\" data-image-"
"caption=\"\" data-medium-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-11.png?w=300\""
" data-large-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-11.png?w=545\""
" src=\"https://underdark.files.wordpress.com/2023/05/image-11.png?w=746\""
" alt=\"\" class=\"wp-image-8467\" "
"srcset=\"https://underdark.files.wordpress.com/2023/05/image-11.png 746w,"
" https://underdark.files.wordpress.com/2023/05/image-11.png?w=150 150w, "
"https://underdark.files.wordpress.com/2023/05/image-11.png?w=300 300w\" "
"sizes=\"(max-width: 746px) 100vw, 746px\" /></figure>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:91
msgid ""
"<p>If you want to explore the full source code, you can find my Github "
"fork with the Jupyter notebook at: <a "
"href=\"https://github.com/anitagraser/desirelines/blob/main/mpd.ipynb\" "
"rel=\"nofollow\">https://github.com/anitagraser/desirelines/blob/main/mpd.ipynb</a></p>"
"\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:95
msgid ""
"<p>The repository also contains a camera image of the intersection, which"
" we can use as a background for our trajectory plots:</p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:98
msgid ""
"<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: "
"python; title: ; notranslate\">\n"
"bg_img = hv.RGB.load_image('img/intersection2.png', bounds=(0,0,640,360))"
" \n"
"</pre></div>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:103
msgid ""
"<figure class=\"wp-block-image size-large\"><img data-attachment-"
"id=\"8466\" data-permalink=\"https://anitagraser.com/2023/05/21"
"/analyzing-video-based-bicycle-trajectories/image-10-4/\" data-orig-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-10.png\" data-"
"orig-size=\"751,492\" data-comments-opened=\"1\" data-image-"
"meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\""
" data-image-title=\"image-10\" data-image-description=\"\" data-image-"
"caption=\"\" data-medium-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-10.png?w=300\""
" data-large-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-10.png?w=545\""
" src=\"https://underdark.files.wordpress.com/2023/05/image-10.png?w=751\""
" alt=\"\" class=\"wp-image-8466\" "
"srcset=\"https://underdark.files.wordpress.com/2023/05/image-10.png 751w,"
" https://underdark.files.wordpress.com/2023/05/image-10.png?w=150 150w, "
"https://underdark.files.wordpress.com/2023/05/image-10.png?w=300 300w\" "
"sizes=\"(max-width: 751px) 100vw, 751px\" /></figure>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:107
msgid ""
"<p>One important caveat is that speed will be calculated in pixels per "
"second. So when we plot the bicycle speed, the segments closer to the "
"camera will appear faster than the segments in the background:</p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:111
msgid ""
"<figure class=\"wp-block-image size-large\"><img data-attachment-"
"id=\"8450\" data-permalink=\"https://anitagraser.com/2023/05/21"
"/analyzing-video-based-bicycle-trajectories/image-3-7/\" data-orig-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-3.png\" data-"
"orig-size=\"812,492\" data-comments-opened=\"1\" data-image-"
"meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\""
" data-image-title=\"image-3\" data-image-description=\"\" data-image-"
"caption=\"\" data-medium-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-3.png?w=300\" "
"data-large-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-3.png?w=545\" "
"src=\"https://underdark.files.wordpress.com/2023/05/image-3.png?w=812\" "
"alt=\"\" class=\"wp-image-8450\" "
"srcset=\"https://underdark.files.wordpress.com/2023/05/image-3.png 812w, "
"https://underdark.files.wordpress.com/2023/05/image-3.png?w=150 150w, "
"https://underdark.files.wordpress.com/2023/05/image-3.png?w=300 300w, "
"https://underdark.files.wordpress.com/2023/05/image-3.png?w=768 768w\" "
"sizes=\"(max-width: 812px) 100vw, 812px\" /></figure>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:115
msgid ""
"<p>To fix this issue, we would have to correct for the distortions of the"
" camera lens and perspective. I&#8217;m sure that there is specialized "
"software for this task but, for the purpose of this post, I&#8217;m going"
" to grab the opportunity to finally test out the <a "
"href=\"https://plugins.qgis.org/plugins/VectorBender/\">VectorBender</a> "
"plugin.</p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:119
msgid ""
"<h2 class=\"wp-block-heading\">Georeferencing the trajectories using QGIS"
" VectorBender plugin</h2>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:123
msgid ""
"<p>Let&#8217;s load the five test trajectories and the camera image to "
"QGIS. To make sure that they align properly, both are set to the same CRS"
" and I&#8217;ve created the following basic world file for the camera "
"image:</p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:126
msgid ""
"<div class=\"wp-block-syntaxhighlighter-code \"><pre class=\"brush: "
"plain; title: ; notranslate\">\n"
"1\n"
"0\n"
"0\n"
"-1\n"
"0\n"
"360\n"
"</pre></div>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:136
msgid ""
"<p>Then we can use the VectorBender tools to georeference the "
"trajectories by linking locations from the camera image to locations on "
"aerial images. You can see the whole process in action here: </p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:140
msgid ""
"<figure class=\"wp-block-embed is-type-video is-provider-youtube wp-"
"block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio\"><div class"
"=\"wp-block-embed__wrapper\">\n"
"<iframe class=\"youtube-player\" width=\"545\" height=\"307\" "
"src=\"https://www.youtube.com/embed/LP6oKEUgX30?version=3&#038;rel=1&#038;showsearch=0&#038;showinfo=1&#038;iv_load_policy=1&#038;fs=1&#038;hl=en&#038;autohide=2&#038;wmode=transparent\""
" allowfullscreen=\"true\" style=\"border:0;\" sandbox=\"allow-scripts "
"allow-same-origin allow-popups allow-presentation\"></iframe>\n"
"</div></figure>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:146
msgid ""
"<p>After around 15 minutes linking control points, VectorBender comes up "
"with the following georeferenced trajectory result: </p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:150
msgid ""
"<figure class=\"wp-block-image size-large\"><img data-attachment-"
"id=\"8463\" data-permalink=\"https://anitagraser.com/2023/05/21"
"/analyzing-video-based-bicycle-trajectories/image-9-4/\" data-orig-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-9.png\" data-"
"orig-size=\"1532,1087\" data-comments-opened=\"1\" data-image-"
"meta=\"{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}\""
" data-image-title=\"image-9\" data-image-description=\"\" data-image-"
"caption=\"\" data-medium-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-9.png?w=300\" "
"data-large-"
"file=\"https://underdark.files.wordpress.com/2023/05/image-9.png?w=545\" "
"src=\"https://underdark.files.wordpress.com/2023/05/image-9.png?w=1024\" "
"alt=\"\" class=\"wp-image-8463\" "
"srcset=\"https://underdark.files.wordpress.com/2023/05/image-9.png?w=1024"
" 1024w, https://underdark.files.wordpress.com/2023/05/image-9.png?w=150 "
"150w, https://underdark.files.wordpress.com/2023/05/image-9.png?w=300 "
"300w, https://underdark.files.wordpress.com/2023/05/image-9.png?w=768 "
"768w, https://underdark.files.wordpress.com/2023/05/image-9.png 1532w\" "
"sizes=\"(max-width: 1024px) 100vw, 1024px\" /></figure>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:154
msgid ""
"<p>Not bad for a quick-and-dirty hack. Some points on the borders of the "
"image could not be georeferenced since I wasn&#8217;t always able to "
"identify suitable control points at the camera image borders. So it "
"won&#8217;t be perfect but should improve speed estimates.</p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:158
msgid "<hr class=\"wp-block-separator has-alpha-channel-opacity\" />\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:162
msgid ""
"<p>This post is part of a series. Read more about&nbsp;<a "
"href=\"https://anitagraser.com/movement-data-in-gis/\">movement data in "
"GIS.</a></p>\n"
msgstr ""

#: content/community-blogs/analyzing-video-based-bicycle-trajectories.md:166
msgid "<p></p>\n"
msgstr ""

